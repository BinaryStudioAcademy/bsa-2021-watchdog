<app-loading-spinner *ngIf="loadingNumber > 0" [size]="'10px'"></app-loading-spinner>
    <div class="invite-wrapper">
        <div class="title">Members</div>
        <button pButton class="inviteMembers" (click)="isInviting=true" pRipple type="button" label="Invite"></button>
    </div>
<div class="members-container">
    <div class="p-inputgroup filter-input">
        <span class="p-inputgroup-addon search-button"><i class="pi pi-search"></i></span>
        <input type="text" pInputText placeholder="Search" name="search" (input)="table.filterGlobal($event.target.value, 'contains')">
    </div>
    <p-table #table [value]="members" class="members-table" [rows]="10" [paginator]="true"  [globalFilterFields]="['user.firstName','user.email','teamId','team.name','role.name']">
        <ng-template pTemplate="header">
            <tr>
                <th pSortableColumn="user.firstName">
                    <div class="table-header-cell" id="name-col">
                        <span>
                            Full Name
                            <p-sortIcon field="user.firstName"></p-sortIcon>
                        </span>
                        <p-columnFilter type="text" field="user.firstName" display="menu"></p-columnFilter>
                    </div>
                </th>
                <th pSortableColumn="user.email">
                    <div class="table-header-cell" id="email-col">
                        <span>
                            Email <p-sortIcon field="user.email"></p-sortIcon>
                        </span>
                        <p-columnFilter type="text" field="user.email" display="menu"></p-columnFilter>
                    </div>
                </th>
                <th pSortableColumn="teamId">
                    <div class="table-header-cell" id="teamId-col">
                        <span>
                            Team Id <p-sortIcon field="teamId"></p-sortIcon>
                        </span>
                        <p-columnFilter type="text" field="teamId" display="menu"></p-columnFilter>
                    </div>
                </th>
                <th pSortableColumn="team.name" id="team-name-col">
                    <div class="table-header-cell">
                        <span>
                            Team name <p-sortIcon field="team.name"></p-sortIcon>
                        </span>
                    <p-columnFilter type="text" field="team.name" display="menu"></p-columnFilter>
                    </div>
                </th>
                <th pSortableColumn="role.name">
                    <div class="table-header-cell" id="role-col">
                        <span>
                            Role <p-sortIcon field="role.name"></p-sortIcon>
                        </span>
                        <p-columnFilter type="text" field="role.name" display="menu"></p-columnFilter>
                    </div>
                </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-member>
            <tr>
                <td>{{member.user.firstName}} {{member.user.lastName}}</td>
                <td>{{member.user.email}}</td>
                <td>{{member.teamId}}</td>
                <td>{{member.team.name}}</td>
                <td>{{member.role.name}}</td>
            </tr>
        </ng-template>
    </p-table>
</div>

<app-invite
    *ngIf="isInviting">
    
</app-invite>
